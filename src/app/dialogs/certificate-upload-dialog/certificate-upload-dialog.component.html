<!-- business registration image -->
<button class="close-button" mat-icon-button [mat-dialog-close]="true">
  <mat-icon class="close-icon" color="warn">close</mat-icon>
</button>
<div class="file-upload">
  <button
    class="file-upload-btn"
    type="button"
    [disabled]="!selectedFiles"
    (click)="uploadBusinessRegImage()"
  >
    Upload Business Permit
  </button>
  <div class="image-upload-wrap">
    <input
      class="file-upload-input"
      type="file"
      accept="image/*,application/pdf"
      (change)="selectFileBusinessPermit($event)"
    />
    <div class="drag-text">
      <h3>Drag and drop or Select Business Permit Here</h3>
    </div>
  </div>
  <div class="file-upload-content" *ngIf="previewBusinessPermit">
    <h4>Business Permit to be uploaded</h4>
    <img
      class="file-upload-image"
      *ngIf="
        previewBusinessPermitType === 'jpg' ||
        previewBusinessPermitType === 'png'
      "
      src="{{ previewBusinessPermit }}"
      alt="Business Permit Image"
    />
    <p *ngIf="previewBusinessPermitType === 'pdf'">{{ businessPermitPDF }}</p>
    <!-- <div class="image-title-wrap">
        <button type="button" onclick="removeUpload()" class="remove-image">Remove <span class="image-title">Uploaded Image</span></button>
      </div> -->
  </div>
  <div class="file-upload-content" *ngIf="data.business_registration_image">
    <h4>Uploaded Business Permit</h4>
    <!-- Check the file type -->
    <ng-container *ngIf="isImageFile(data.business_registration_image)">
      <!-- Display image -->
      <img
        class="file-upload-image"
        src="{{ data.business_registration_image }}"
        alt="Business Permit Image"
      />
    </ng-container>

    <ng-container *ngIf="isPDFFile(data.business_registration_image)">
      <!-- Display PDF using pdf-viewer -->
      <pdf-viewer
        src="{{ data.business_registration_image }}"
        [render-text]="true"
        [original-size]="false"
        style="width: 400px; height: 500px"
      ></pdf-viewer>
    </ng-container>
  </div>
</div>

<!-- barangay clearance image -->
<div class="file-upload">
  <button
    class="file-upload-btn"
    type="button"
    [disabled]="!selectedFiles"
    (click)="uploadBarangayCertImage()"
  >
    Upload Barangay Clearance
  </button>
  <div class="image-upload-wrap">
    <input
      class="file-upload-input"
      type="file"
      accept="image/*,application/pdf"
      (change)="selectFileBarangayClearance($event)"
    />
    <div class="drag-text">
      <h3>Drag and drop or Select Barangay Clearance Here</h3>
    </div>
  </div>
  <div class="file-upload-content" *ngIf="previewBarangayClearance">
    <h4>Barangay Clearance to be uploaded</h4>
    <img
      class="file-upload-image"
      *ngIf="
        previewBarangayClearanceType === 'jpg' ||
        previewBusinessPermitType === 'png'
      "
      src="{{ previewBarangayClearance }}"
      alt="Business Permit Image"
    />
    <p *ngIf="previewBarangayClearanceType === 'pdf'">
      {{ barangayClearancePDF }}
    </p>
    <!-- <div class="image-title-wrap">
        <button type="button" onclick="removeUpload()" class="remove-image">Remove <span class="image-title">Uploaded Image</span></button>
      </div> -->
  </div>
  <div class="file-upload-content" *ngIf="data.barangay_clearance_image">
    <h4>Uploaded Barangay Clearance</h4>
    <ng-container *ngIf="isImageFile(data.barangay_clearance_image)">
      <!-- Display image -->
      <img
        class="file-upload-image"
        src="{{ data.barangay_clearance_image }}"
        alt="Business Permit Image"
      />
    </ng-container>

    <ng-container *ngIf="isPDFFile(data.barangay_clearance_image)">
      <!-- Display PDF using pdf-viewer -->
      <pdf-viewer
        src="{{ data.barangay_clearance_image }}"
        [render-text]="true"
        [original-size]="false"
        style="width: 400px; height: 500px"
      ></pdf-viewer>
    </ng-container>
  </div>
</div>

<!-- BFP Permit image -->
<div class="file-upload">
  <button
    class="file-upload-btn"
    type="button"
    [disabled]="!selectedFiles"
    (click)="uploadBfpCertImage()"
  >
    Upload BFP Permit
  </button>
  <div class="image-upload-wrap">
    <input
      class="file-upload-input"
      type="file"
      accept="image/*,application/pdf"
      (change)="selectFileBfpPermit($event)"
    />
    <div class="drag-text">
      <h3>
        Drag and drop a file or select Bureau of Fire Protection Permit Here
      </h3>
    </div>
  </div>
  <div class="file-upload-content" *ngIf="previewBfpPermit">
    <h4>BFP Permit to be uploaded</h4>
    <img
      class="file-upload-image"
      *ngIf="
        previewBfpPermitType === 'jpg' || previewBusinessPermitType === 'png'
      "
      src="{{ previewBfpPermit }}"
      alt="Business Permit Image"
    />
    <p *ngIf="previewBfpPermitType === 'pdf'">{{ bfpPermitPDF }}</p>
    <!-- <div class="image-title-wrap">
        <button type="button" onclick="removeUpload()" class="remove-image">Remove <span class="image-title">Uploaded Image</span></button>
      </div> -->
  </div>
  <div class="file-upload-content" *ngIf="data.bfp_permit_image">
    <h4>Uploaded BFP Permit</h4>
    <ng-container *ngIf="isImageFile(data.bfp_permit_image)">
      <!-- Display image -->
      <img
        class="file-upload-image"
        src="{{ data.bfp_permit_image }}"
        alt="Business Permit Image"
      />
    </ng-container>

    <ng-container *ngIf="isPDFFile(data.bfp_permit_image)">
      <!-- Display PDF using pdf-viewer -->
      <pdf-viewer
        src="{{ data.bfp_permit_image }}"
        [render-text]="true"
        [original-size]="false"
        style="width: 400px; height: 500px"
      ></pdf-viewer>
    </ng-container>
  </div>
</div>

<!-- Mayor Permit image -->
<!-- <div class="file-upload">
  <button
    class="file-upload-btn"
    type="button"
    [disabled]="!selectedFiles"
    (click)="uploadMayorPermitImage()"
  >
    Upload Mayor's Permit
  </button>
  <div class="image-upload-wrap">
    <input
      class="file-upload-input"
      type="file"
      accept="image/*,application/pdf"
      (change)="selectFile($event)"
    />
    <div class="drag-text">
      <h3>Drag and drop a file or select Mayor's Permit Here</h3>
    </div>
  </div>
  <div class="file-upload-content" *ngIf="preview">
    <h4>Mayor's Permit to be uploaded</h4>
    <img class="file-upload-image" src="{{ preview }}" alt="Mayor's Permit Image" />
  </div>
  <div class="file-upload-content" *ngIf="data.mayor_permit_image">
    <h4>Uploaded Mayor's Permit</h4>
    <img
      class="file-upload-image"
      src="{{ data.mayor_permit_image }}"
      alt="Mayor's Permit Image"
    />
  </div>
</div> -->

<!-- Sanitary Permit image -->
<div class="file-upload">
  <button
    class="file-upload-btn"
    type="button"
    [disabled]="!selectedFiles"
    (click)="uploadSanitaryPermitImage()"
  >
    Upload Sanitary Permit
  </button>
  <div class="image-upload-wrap">
    <input
      class="file-upload-input"
      type="file"
      accept="image/*,application/pdf"
      (change)="selectFileSanitaryPermit($event)"
    />
    <div class="drag-text">
      <h3>Drag and drop a file or select Sanitary Permit Here</h3>
    </div>
  </div>
  <div class="file-upload-content" *ngIf="previewSanitaryPermit">
    <h4>Sanitary Permit to be uploaded</h4>
    <img
      class="file-upload-image"
      *ngIf="
        previewSanitaryPermitClearanceType === 'jpg' ||
        previewBusinessPermitType === 'png'
      "
      src="{{ previewSanitaryPermit }}"
      alt="Business Permit Image"
    />
    <p *ngIf="previewSanitaryPermitClearanceType === 'pdf'">
      {{ sanitaryPermitPDF }}
    </p>
    <!-- <div class="image-title-wrap">
        <button type="button" onclick="removeUpload()" class="remove-image">Remove <span class="image-title">Uploaded Image</span></button>
      </div> -->
  </div>
  <div class="file-upload-content" *ngIf="data.sanitary_permit_image">
    <h4>Uploaded Satnitary Permit</h4>
    <ng-container *ngIf="isImageFile(data.sanitary_permit_image)">
      <!-- Display image -->
      <img
        class="file-upload-image"
        src="{{ data.sanitary_permit_image }}"
        alt="Business Permit Image"
      />
    </ng-container>

    <ng-container *ngIf="isPDFFile(data.sanitary_permit_image)">
      <!-- Display PDF using pdf-viewer -->
      <pdf-viewer
        src="{{ data.sanitary_permit_image }}"
        [render-text]="true"
        [original-size]="false"
        style="width: 400px; height: 500px"
      ></pdf-viewer>
    </ng-container>
  </div>
</div>
